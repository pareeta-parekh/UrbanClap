{% extends "base.html" %}

{% block title %}
Change Password
{% endblock %}

{% block content %}
<div class="container">
    <h3> Change Password </h3>
    <hr>
    <div class="row">
        <form action="" method="POST" onsubmit="return checkPass()" class="col-4">{% csrf_token %}
            <div class="form-group">
                <label>Old Password</label>
                <input type="password" name="old_password" id="old_password" class="form-control" required>
            </div>
            <div class="form-group">
                <label>New Password</label>
                <input type="password" name="new_password" id="new_password" class="form-control" required>
            </div>
            <div class="form-group">
                <label>Confim New Password</label>
                <input type="password" name="cnew_password" id="cnew_password" class="form-control" required>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
    
</div>

<script>
{% if message %}
    swal({
        title: "{{title}}",
        text: "{{message}}",
        icon: "{{icon}}",
    }).then(function(){
    if("{{icon}}" == "success"){
        window.location = '{{url}}';
    }
    else if("{{icon}}" == "warning"){
        window.location = '{{url}}';
    }
    else if("{{icon}}" == "error"){
        window.location = '{{url}}';
    }
    });
{% endif %}

function checkPass(){
    var oldpass = document.getElementById('old_password').value;
    var newpass = document.getElementById('new_password').value;
    var cnewpass = document.getElementById('cnew_password').value;

    if (newpass == cnewpass){
        return true;
    }
    else{
        swal({
            title: "Try again!",
            text: "New Password and Confirm New Password are not same",
            icon: "warning",
        });
        return false;
    }
}
        
</script>
{% endblock %}